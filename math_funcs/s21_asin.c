#include <stdio.h>

#include "../s21_math.h"

long double s21_asin(double x) {
  long double res;
  if (x < -1 || x > 1) {
    res = s21_nan();
  } else if (x == -1 || x == 1) {
    res = 2.0 * s21_atan(x / (1.0 + s21_sqrt(1.0 - x * x)));
  } else {
    res = x + (1.0 / 6.0) * s21_pow(x, 3) + (3.0 / 40.0) * s21_pow(x, 5) +
          (5.0 / 112.0) * s21_pow(x, 7) + (35.0 / 1152.0) * s21_pow(x, 9) +
          (63.0 / 2816.0) * s21_pow(x, 11) +
          (231.0 / 13312.0) * s21_pow(x, 13) +
          (143.0 / 10240.0) * s21_pow(x, 15) +
          (6435.0 / 557056.0) * s21_pow(x, 17) +
          (12155.0 / 1245184.0) * s21_pow(x, 19) +
          (46189.0 / 5505024.0) * s21_pow(x, 21) +
          (88179.0 / 12093235.0) * s21_pow(x, 23) +
          (676039.0 / 104060401.0) * s21_pow(x, 25) +
          (1300075.0 / 2268783825.0) * s21_pow(x, 27) +
          (5014575.0 / 10272278170.0) * s21_pow(x, 29) +
          (9694845.0 / 23206929875.0) * s21_pow(x, 31) +
          (17383860.0 / 69077552833.0) * s21_pow(x, 33) +
          (293930615.0 / 739632519225.0) * s21_pow(x, 35) +
          (696685344.0 / 752232748751.0) * s21_pow(x, 37) +
          (7905853580625.0 / 327849986159100.0) * s21_pow(x, 39) +
          (471435600.0 / 327849986159100.0) * s21_pow(x, 41) +
          (969071216477.0 / 14544636039226909.0) * s21_pow(x, 43) +
          (35345263800.0 / 14544636039226909.0) * s21_pow(x, 45) +
          (4461857400.0 / 14544636039226909.0) * s21_pow(x, 47) +
          (1131720817509.0 / 14544636039226909.0) * s21_pow(x, 49);
  }

  return res;
}